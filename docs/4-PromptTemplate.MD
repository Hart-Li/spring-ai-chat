## å°ç™½å­¦SpringAI-PromptTemplate

---

### 1. ä»€ä¹ˆæ˜¯ PromptTemplate

`PromptTemplate` æ˜¯ç”Ÿæˆ `Prompt` çš„é¢„å®šä¹‰æ¨¡æ¿ç±»ï¼Œé€šè¿‡**å ä½ç¬¦**åŠ¨æ€æ³¨å…¥å˜é‡å€¼ç”Ÿæˆæç¤ºè¯ï¼Œå¯é™ä½ä»£ç å†—ä½™ï¼Œæå‡å¯ç»´æŠ¤æ€§ã€‚

```
æ¨è 2024 å¹´Bç«™æœ€ç«çš„éŸ³ä¹å‰3åï¼Ÿ
æ¨è 2023 å¹´æŠ–éŸ³æœ€ç«çš„éŸ³ä¹å‰3åï¼Ÿ
......
æ‚¨å¥½ï¼Œæˆ‘æ˜¯æ‚¨çš„ä¸“å±å®¢æœå°æ™ºï¼Œæœ‰ä»€ä¹ˆä¸ºæ‚¨æ•ˆåŠ³çš„ï¼Ÿ

æ‚¨å¥½ï¼Œæˆ‘æ˜¯æ‚¨çš„ä¸“å±å®¢æœYOYOï¼Œæœ‰ä»€ä¹ˆä¸ºæ‚¨æ•ˆåŠ³çš„ï¼Ÿ
......
```
![PromptTemplate å¤„ç†æµç¨‹](materials/4/prompt-template-handle.png)

```java
@GetMapping("/ai/chat/deepseek")
public String deepSeek(String year, String platform) {
    // 1. åŸå§‹æ¨¡æ¿
    String template = "æ¨è{year}å¹´{platform}æœ€ç«çš„éŸ³ä¹å‰3å";
    PromptTemplate promptTemplate = new PromptTemplate(template);
    // 2. å®šä¹‰å˜é‡å€¼
    promptTemplate.add("year", year);
    promptTemplate.add("platform", platform);
    // 3. ç”Ÿæˆ prompt å¯¹è±¡
    Prompt prompt = promptTemplate.create();
    return chatClient
        .prompt(prompt)     // æç¤ºè¯
        .call()             // å‘é€è¯·æ±‚å¹¶è·å–æ¨¡å‹ç”Ÿæˆçš„å“åº”
        .content();         // ä»å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
}
```

ç®€åŒ–ç‰ˆä½¿ç”¨

```java
@GetMapping("/ai/chat/deepseek")
public String deepSeek(String year, String platform) {
    // 1. åŸå§‹æ¨¡æ¿
    String template = "æ¨è{year}å¹´{platform}æœ€ç«çš„éŸ³ä¹å‰3å";
    PromptTemplate promptTemplate = PromptTemplate.builder().template(template).build();
    // 2. å®šä¹‰å˜é‡å€¼ +  3. ç”Ÿæˆ prompt å¯¹è±¡
    Prompt prompt = promptTemplate.create(Map.of("year", year, "platform", platform));
    /*// 2. å®šä¹‰å˜é‡å€¼
    promptTemplate.add("year", year);
    promptTemplate.add("platform", platform);
    // 3. ç”Ÿæˆ prompt å¯¹è±¡
    Prompt prompt = promptTemplate.create();*/
    return chatClient
        .prompt(prompt)     // æç¤ºè¯
        .call()             // å‘é€è¯·æ±‚å¹¶è·å–æ¨¡å‹ç”Ÿæˆçš„å“åº”
        .content();         // ä»å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
}
```

æµ‹è¯•è·¯ç”±ï¼šhttp://localhost:8080/ai/chat/deepseek?year=2024&platform=æŠ–éŸ³

æµ‹è¯•æ•ˆæœï¼š
```
æˆªè‡³2024å¹´ï¼ŒæŠ–éŸ³ï¼ˆTikTokï¼‰çš„çƒ­é—¨éŸ³ä¹æ¦œå•ä¼šéšç€å…¨çƒæµè¡Œè¶‹åŠ¿å’Œå¹³å°ç®—æ³•ä¸æ–­å˜åŒ–ï¼Œä½†æ ¹æ®è¿‘æœŸè¶‹åŠ¿å’Œé¢„æµ‹ï¼Œä»¥ä¸‹3é¦–æ­Œæ›²å¯èƒ½æˆä¸º2024å¹´æŠ–éŸ³æœ€ç«çš„éŸ³ä¹ï¼ˆæ³¨ï¼šéƒ¨åˆ†ä¸ºé¢„æµ‹æˆ–å»¶ç»­çƒ­åº¦çš„ä½œå“ï¼Œå®é™…ä»¥å¹³å°æ•°æ®ä¸ºå‡†ï¼‰ï¼š

---

### **1. ã€ŠPaint the Town Redã€‹- Doja Cat**  
   - **ç†ç”±**ï¼šDoja Catä¸€ç›´æ˜¯æŠ–éŸ³çƒ­æ›²çš„åˆ¶é€ æœºï¼Œè¿™é¦–æ­Œæ›²èŠ‚å¥é­”æ€§ã€æ­Œè¯æŠ“è€³ï¼Œæ­é…èˆè¹ˆæŒ‘æˆ˜ææ˜“ç—…æ¯’å¼ä¼ æ’­ã€‚2023å¹´å·²çˆ†ç«ï¼Œé¢„è®¡2024å¹´ä»ä¼šæŒç»­çƒ­åº¦ã€‚  
   - **é€‚ç”¨åœºæ™¯**ï¼šå˜è£…è§†é¢‘ã€èˆè¹ˆæŒ‘æˆ˜ã€é…·é£’é£æ ¼å‰ªè¾‘ã€‚

### **2. ã€ŠMy Love Mine All Mineã€‹- Mitski**  
   - **ç†ç”±**ï¼šMitskiçš„è¿™é¦–æ¢¦å¹»æ°‘è°£åœ¨2023å¹´åº•çªç„¶é€†è¢­æŠ–éŸ³ï¼Œæˆä¸ºæƒ…æ„Ÿç±»è§†é¢‘çš„æ ‡é…BGMã€‚å…¶æ°›å›´æ„Ÿæ—‹å¾‹é€‚åˆæ€€æ—§ã€æ—…è¡Œã€ç”Ÿæ´»ç‰‡æ®µï¼Œçƒ­åº¦å¯èƒ½å»¶ç»­è‡³2024å¹´ã€‚  
   - **é€‚ç”¨åœºæ™¯**ï¼šæ²»æ„ˆç³»Vlogã€æ–‡è‰ºé£å‰ªè¾‘ã€æƒ…æ„Ÿæ–‡æ¡ˆã€‚

### **3. ã€ŠHoudiniã€‹- Dua Lipa**  
   - **ç†ç”±**ï¼šDua Lipaåœ¨2024å¹´å‘å¸ƒçš„æ–°ä¸“è¾‘ä¸»æ‰“æ­Œï¼Œå»¶ç»­äº†å¥¹æ“…é•¿çš„å¤å¤è¿ªæ–¯ç§‘é£æ ¼ï¼ŒèŠ‚å¥æ˜å¿«ã€æ—‹å¾‹ä¸Šå¤´ï¼Œæå¯èƒ½è¢«å¤§é‡ç”¨äºèˆè¹ˆå’Œæ—¶å°šè§†é¢‘ã€‚  
   - **é€‚ç”¨åœºæ™¯**ï¼šæ´¾å¯¹å‰ªè¾‘ã€å¥èº«è¿åŠ¨ã€æ½®æµç©¿æ­ã€‚

---

### **å…¶ä»–æ½œåŠ›é»‘é©¬**  
- **ã€ŠEspressoã€‹- Sabrina Carpenter**ï¼šè½»å¿«ä¿çš®çš„æµè¡Œæ›²é£ï¼Œé€‚åˆå¤æ—¥æŒ‘æˆ˜ã€‚  
- **ã€ŠLovin On Meã€‹- Jack Harlow**ï¼šé‡‡æ ·ç»å…¸R&Bçš„æ—‹å¾‹ï¼Œæ´—è„‘å‰¯æ­Œæ˜“ä¼ æ’­ã€‚  

---

**æ³¨æ„**ï¼šæŠ–éŸ³çƒ­æ­Œå¾€å¾€ä¾èµ–çŸ­è§†é¢‘æŒ‘æˆ˜æˆ–æ˜æ˜Ÿæ•ˆåº”ï¼Œå»ºè®®å…³æ³¨å¹³å°å®æ—¶æ¦œå•ï¼ˆå¦‚æŠ–éŸ³â€œçƒ­æ­Œæ¦œâ€æˆ–Spotify/Apple Musicæµè¡Œæ¦œï¼‰ã€‚å¦‚éœ€å½“å‰å‡†ç¡®æ’åï¼Œå¯é€šè¿‡æŠ–éŸ³APPå†…æœç´¢â€œçƒ­é—¨éŸ³ä¹â€æŸ¥çœ‹æœ€æ–°æ•°æ®ã€‚
```

---

### 2.å¤šè§’è‰²æ¨¡æ¿

ä½¿ç”¨ `PromptTemplate` å¯æ„å»ºä¸åŒè§’è‰²çš„æ¶ˆæ¯ï¼Œæœ‰åŠ©äºæ¨¡å‹åˆ†æä¸Šä¸‹æ–‡ï¼Œæ˜ç¡®è§’è‰²ä¹‹é—´äº¤äº’çš„æ„å›¾ã€‚

```
çˆ¶ç±»ï¼šPromptTemplate
å­ç±»ï¼š
    |- SystemPromptTemplate     // ç³»ç»Ÿè§’è‰²æç¤ºæ¨¡æ¿
    |- AssistantPromptTemplate  // åŠ©æ‰‹è§’è‰²æç¤ºæ¨¡æ¿
    |- FunctionPromptTemplate   // å‡½æ•° & å·¥å…·è°ƒç”¨è§’è‰²æç¤ºæ¨¡æ¿
```

```java
@GetMapping("/ai/chat/deepseek")
public String deepSeek(String topic) {
    // 1. ç³»ç»Ÿè§’è‰²æ¶ˆæ¯
    String systemText = "ä½ æ˜¯ä¸€å{role}ï¼Œæ“…é•¿ç²¾å‡†è€Œç®€æ´å¾—å›ç­”é—®é¢˜";
    PromptTemplate systemPromptTemplate = new SystemPromptTemplate(systemText);
    String role = "Javaæ¶æ„å¸ˆ";
    Message systemMessage = systemPromptTemplate.createMessage(Map.of("role", role));
    // 2. ç”¨æˆ·è§’è‰²æ¶ˆæ¯
    Message userMessage = new UserMessage(topic);
    // 3. ç»„è£… Prompt
    Prompt prompt = new Prompt(List.of(systemMessage, userMessage));
    return chatClient
        .prompt(prompt)     // æç¤ºè¯
        .call()             // å‘é€è¯·æ±‚å¹¶è·å–æ¨¡å‹ç”Ÿæˆçš„å“åº”
        .content();         // ä»å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
}
```

æµ‹è¯•è·¯ç”±ï¼šhttp://localhost:8080/ai/chat/deepseek?topic=SpringAIæ˜¯ä»€ä¹ˆ

æµ‹è¯•æ•ˆæœï¼š
```
**Spring AI** æ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ AI é›†æˆæ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ– Java åº”ç”¨ä¸­äººå·¥æ™ºèƒ½èƒ½åŠ›çš„æ¥å…¥ã€‚æ ¸å¿ƒç‰¹ç‚¹ï¼š

1. **ç»Ÿä¸€API**  
   æä¾›æ ‡å‡†åŒ–æ¥å£å¯¹æ¥ä¸»æµAIæœåŠ¡ï¼ˆå¦‚OpenAIã€Azure AIã€Hugging Faceç­‰ï¼‰ï¼Œé¿å…å‚å•†é”å®šã€‚

2. **å…³é”®åŠŸèƒ½**  
   - å¯¹è¯æ¨¡å‹ï¼ˆChatClientï¼‰  
   - æ–‡æœ¬åµŒå…¥ï¼ˆEmbeddingClientï¼‰  
   - å‘é‡æ•°æ®åº“æ”¯æŒï¼ˆPgVectorã€Redisç­‰ï¼‰

3. **Springç”Ÿæ€é›†æˆ**  
   è‡ªåŠ¨é…ç½®ã€ä¾èµ–æ³¨å…¥ä¸Spring Bootæ·±åº¦æ•´åˆï¼Œæ”¯æŒPromptæ¨¡æ¿ç­‰ä¼ä¸šçº§ç‰¹æ€§ã€‚

4. **åº”ç”¨åœºæ™¯**  
   å¿«é€Ÿå®ç°æ™ºèƒ½å¯¹è¯ã€RAGæ¶æ„ã€è¯­ä¹‰æœç´¢ç­‰AIåŠŸèƒ½ã€‚

å½“å‰å¤„äº**æ—©æœŸé¢„è§ˆç‰ˆ**ï¼ˆ2023å¹´å‘å¸ƒï¼‰ï¼Œéœ€å…³æ³¨APIç¨³å®šæ€§ã€‚é€‚åˆéœ€è¦åœ¨Springä½“ç³»ä¸­å¿«é€Ÿé›†æˆAIèƒ½åŠ›çš„åœºæ™¯ã€‚
```

---

### 3. åŠ è½½å¤–éƒ¨èµ„æº

å¯ä»¥å°†æç¤ºæ•°æ®æ”¾åœ¨æ–‡ä»¶ä¸­ï¼ˆå¦‚ï¼šsystem-message.stï¼‰ï¼Œç„¶åå°†è¯¥èµ„æºç›´æ¥ä¼ é€’ç»™ PromptTemplateã€‚

![prompt_templateåŠ è½½å¤–éƒ¨èµ„æº](materials/4/prompt-template-use-resource.png)

å¤–éƒ¨èµ„æºæ–‡ä»¶ä¸­å­˜å‚¨çš„æ˜¯ä»£ç ä¸­ä½¿ç”¨çš„ SystemPromptTempalte

![å¤–éƒ¨èµ„æº](materials/4/prompt-template-resource-data.png)

```java
@GetMapping("/ai/chat/deepseek")
public String deepSeek(String topic) {
    // 1. ç³»ç»Ÿè§’è‰²æ¶ˆæ¯
    /*String systemText = "ä½ æ˜¯ä¸€å{role}ï¼Œæ“…é•¿ç²¾å‡†è€Œç®€æ´å¾—å›ç­”é—®é¢˜";
    PromptTemplate systemPromptTemplate = new SystemPromptTemplate(systemText);*/
    PromptTemplate systemPromptTemplate = new SystemPromptTemplate(systemMessageResource);
    String role = "Javaæ¶æ„å¸ˆ";
    Message systemMessage = systemPromptTemplate.createMessage(Map.of("role", role));
    // 2. ç”¨æˆ·è§’è‰²æ¶ˆæ¯
    Message userMessage = new UserMessage(topic);
    // 3. ç»„è£… Prompt
    Prompt prompt = new Prompt(List.of(systemMessage, userMessage));
    return chatClient
        .prompt(prompt)     // æç¤ºè¯
        .call()             // å‘é€è¯·æ±‚å¹¶è·å–æ¨¡å‹ç”Ÿæˆçš„å“åº”
        .content();         // ä»å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
}
```

æµ‹è¯•è·¯ç”±ï¼šhttp://localhost:8080/ai/chat/deepseek?topic=SpringAIæ˜¯ä»€ä¹ˆ
æµ‹è¯•ç»“æœï¼š
```
Spring AI æ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ AI åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ– Java ç”Ÿæ€ä¸­é›†æˆ AI èƒ½åŠ›çš„å¼€å‘æµç¨‹ã€‚æ ¸å¿ƒç‰¹ç‚¹ï¼š

1. **ç»Ÿä¸€ API**ï¼šæä¾›æ ‡å‡†åŒ–æ¥å£å¯¹æ¥ä¸»æµ AI æœåŠ¡ï¼ˆå¦‚ OpenAIã€Azure AIã€Hugging Faceï¼‰

2. **æ¨¡å—åŒ–è®¾è®¡**ï¼š
   - å¯¹è¯æ¨¡å‹ï¼ˆChatClientï¼‰
   - åµŒå…¥æ¨¡å‹ï¼ˆEmbeddingClientï¼‰
   - å›¾åƒç”Ÿæˆï¼ˆImageClientï¼‰

3. **Spring ç”Ÿæ€é›†æˆ**ï¼š
   - è‡ªåŠ¨é…ç½®
   - ä¾èµ–æ³¨å…¥
   - ä¸ Spring Boot æ·±åº¦æ•´åˆ

4. å…¸å‹åº”ç”¨åœºæ™¯ï¼š
   @RestController
   public class AIController {
       @Autowired
       private ChatClient chatClient;
       
       @GetMapping("/ask")
       public String ask(@RequestParam String question) {
           return chatClient.call(question);
       }
   }
   

å½“å‰å¤„äºæ—©æœŸé¢„è§ˆé˜¶æ®µï¼ˆ2023å¹´11æœˆå‘å¸ƒé¢„è§ˆç‰ˆï¼‰ï¼Œé€‚åˆéœ€è¦å¿«é€Ÿå°† AI èƒ½åŠ›é›†æˆåˆ° Spring åº”ç”¨ä¸­çš„åœºæ™¯ï¼Œç›¸æ¯”ç›´æ¥è°ƒç”¨åŸç”Ÿ AI SDK æ›´ç¬¦åˆ Java å¼€å‘è€…çš„ä¹ æƒ¯ã€‚
```

---

### 4. è‡ªå®šä¹‰æ¨¡æ¿

æç¤ºæ¨¡æ¿æ”¯æŒè‡ªå®šä¹‰ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨å¸¦æœ‰'<'å’Œ'>'åˆ†éš”ç¬¦çš„è‡ªå®šä¹‰æ¸²æŸ“å™¨æ¨¡æ¿ã€‚

```java
PromptTemplate promptTemplate = PromptTemplate.builder().renderer(StTemplateRenderer.builder().startDelimiterToken('<').endDelimiterToken('>').build()).template(template).build();
```

ä½¿ç”¨æ ·ä¾‹ï¼š

æµ‹è¯•è·¯ç”±ï¼šhttp://localhost:8080/ai/chat/deepseek?year=2024&platform=æŠ–éŸ³

æµ‹è¯•ç»“æœï¼š

- è‹¥æ˜¯ template ä¸º `æ¨è{year}å¹´{platform}æœ€ç«çš„éŸ³ä¹å‰3å`ï¼Œæ¨¡æ¿å‚æ•°å¹¶æ²¡æœ‰ç”¨ <> åˆ†åˆ«ä½œä¸ºå¼€å§‹å’Œç»“æŸçš„å ä½ç¬¦ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š
æµ‹è¯•ä»£ç ï¼š
```java
@GetMapping("/ai/chat/deepseek")
public String deepSeek(String year, String platform) {
    // 1. åŸå§‹æ¨¡æ¿
    String template = "æ¨è{year}å¹´{platform}æœ€ç«çš„éŸ³ä¹å‰3å";
    PromptTemplate promptTemplate = PromptTemplate.builder().renderer(
            StTemplateRenderer.builder().startDelimiterToken('<').endDelimiterToken('>').build())
        .template(template)
        .build();
    // 2. å®šä¹‰å˜é‡å€¼ +  3. ç”Ÿæˆ prompt å¯¹è±¡
    Prompt prompt = promptTemplate.create(Map.of("year", year, "platform", platform));
    return chatClient
        .prompt(prompt)     // æç¤ºè¯
        .call()             // å‘é€è¯·æ±‚å¹¶è·å–æ¨¡å‹ç”Ÿæˆçš„å“åº”
        .content();         // ä»å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
}
```
ç»“æœï¼š
```
ä»¥ä¸‹æ˜¯2023å¹´ä¸»æµéŸ³ä¹å¹³å°ï¼ˆå¦‚ **Spotifyã€Apple Musicã€QQéŸ³ä¹ã€ç½‘æ˜“äº‘éŸ³ä¹**ï¼‰å…¨çƒèŒƒå›´å†…æœ€ç«çš„æ­Œæ›²å‰3åæ¨èï¼Œä¾›å‚è€ƒï¼š

---

### **1. Spotify å…¨çƒæ¦œï¼ˆ2023å¹´åº¦ï¼‰**  
- **ã€ŠFlowersã€‹- Miley Cyrus**  
  ï¼ˆå¹´åº¦æœ€çƒ­å•æ›²ï¼Œæ‰“ç ´æ’­æ”¾è®°å½•ï¼‰  
- **ã€ŠKill Billã€‹- SZA**  
  ï¼ˆR&Bé£æ ¼ï¼Œé•¿æœŸéœ¸æ¦œï¼‰  
- **ã€ŠSevenã€‹(Explicit ver.) - Jung Kook (BTS) ft. Latto**  
  ï¼ˆBTSæˆå‘˜ç”°æŸ¾å›½çš„ä¸ªäººçƒ­å•ï¼‰  

---

### **2. è…¾è®¯QQéŸ³ä¹ï¼ˆåè¯­çƒ­æ­Œï¼‰**  
- **ã€Šä¹Œæ¢…å­é…±ã€‹- æè£æµ©**  
  ï¼ˆç°è±¡çº§æµè¡Œæ›²ï¼ŒçŸ­è§†é¢‘çˆ†ç«ï¼‰  
- **ã€Šå­¤å‹‡è€…ã€‹- é™ˆå¥•è¿…**  
  ï¼ˆæŒç»­çƒ­åº¦ï¼Œå°¤å…¶å—å¹´è½»ç¾¤ä½“å–œçˆ±ï¼‰  
- **ã€Šå‘äº‘ç«¯ã€‹- å°éœ/æµ·æ´‹Bo**  
  ï¼ˆæ²»æ„ˆç³»é£æ ¼ï¼Œç¿»å”±çƒ­æ½®ï¼‰  

---

### **3. ç½‘æ˜“äº‘éŸ³ä¹ï¼ˆç»¼åˆæ¦œï¼‰**  
- **ã€Šæˆ‘è®°å¾—ã€‹- èµµé›·**  
  ï¼ˆæ°‘è°£å›å½’ï¼Œæ­Œè¯å¼•å‘å…±é¸£ï¼‰  
- **ã€Šé›ª Distanceã€‹- Capper/ç½—è¨€**  
  ï¼ˆè¯´å”±çƒ­å•ï¼Œäº‰è®®ä¸æµé‡å¹¶å­˜ï¼‰  
- **ã€ŠLetting Goã€‹- è”¡å¥é›…**  
  ï¼ˆç»å…¸ç¿»çº¢ï¼Œå¹³å°ç”¨æˆ·åçˆ±ï¼‰  

---

### æ³¨æ„äº‹é¡¹ï¼š  
1. ä¸åŒå¹³å°ï¼ˆå¦‚TikTokã€YouTube Musicï¼‰çš„æ¦œå•å¯èƒ½å·®å¼‚è¾ƒå¤§ï¼Œå…·ä½“å¯è¡¥å……å¹³å°åç§°è¿›ä¸€æ­¥æŸ¥è¯¢ã€‚  
2. è‹¥éœ€å…¶ä»–å¹´ä»½ï¼ˆå¦‚2024å¹´ï¼‰æˆ–åœ°åŒºæ¦œå•ï¼Œè¯·è¯´æ˜è°ƒæ•´å‚æ•°ã€‚  

å¸Œæœ›è¿™äº›æ¨èå¯¹ä½ æœ‰å¸®åŠ©ï¼
```

- è‹¥æ˜¯ template ä¸º æ¨è<year>å¹´<platform>æœ€ç«çš„éŸ³ä¹å‰3åï¼Œæ¨¡æ¿å‚æ•°ä½¿ç”¨äº† <> åˆ†åˆ«ä½œä¸ºå¼€å§‹å’Œç»“æŸçš„å ä½ç¬¦ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š

æµ‹è¯•ä»£ç ï¼š

```java
@GetMapping("/ai/chat/deepseek")
public String deepSeek(String year, String platform) {
    // 1. åŸå§‹æ¨¡æ¿
    String template = "æ¨è<year>å¹´<platform>æœ€ç«çš„éŸ³ä¹å‰3å";
    PromptTemplate promptTemplate = PromptTemplate.builder().renderer(
            StTemplateRenderer.builder().startDelimiterToken('<').endDelimiterToken('>').build())
        .template(template)
        .build();
    // 2. å®šä¹‰å˜é‡å€¼ +  3. ç”Ÿæˆ prompt å¯¹è±¡
    Prompt prompt = promptTemplate.create(Map.of("year", year, "platform", platform));
    return chatClient
        .prompt(prompt)     // æç¤ºè¯
        .call()             // å‘é€è¯·æ±‚å¹¶è·å–æ¨¡å‹ç”Ÿæˆçš„å“åº”
        .content();         // ä»å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
}
```

ç»“æœï¼š

```
æˆªè‡³2024å¹´ï¼ŒæŠ–éŸ³çš„çƒ­é—¨éŸ³ä¹æ¦œå•ä¼šéšç€æµè¡Œè¶‹åŠ¿å’Œç”¨æˆ·åˆ›ä½œä¸æ–­å˜åŒ–ï¼Œä½†æ ¹æ®å…¨çƒéŸ³ä¹çƒ­åº¦ã€çŸ­è§†é¢‘ä½¿ç”¨é¢‘ç‡åŠå¹³å°ç®—æ³•æ¨èï¼Œä»¥ä¸‹3é¦–æ­Œæ›²ææœ‰å¯èƒ½æˆä¸º2024å¹´æŠ–éŸ³æœ€ç«çš„éŸ³ä¹ï¼ˆæ³¨ï¼šéƒ¨åˆ†ä¸ºé¢„æµ‹ï¼Œå®é™…ä»¥å¹³å°æ•°æ®ä¸ºå‡†ï¼‰ï¼š

---

### **1. ã€Š[é¢„æµ‹] æŸå…¨çƒçˆ†çº¢çƒ­å•ï¼ˆå¦‚ï¼šK-Pop/æ¬§ç¾æ–°æ˜Ÿï¼‰**  
   - **ç†ç”±**ï¼šæŠ–éŸ³å¸¸è¢«å›½é™…æµè¡ŒéŸ³ä¹å¸¦ç«ï¼Œå¦‚2023å¹´ã€ŠCupidã€‹ã€ŠFlowersã€‹çš„æ¡ˆä¾‹ã€‚2024å¹´å¯èƒ½ç”±æŸä½æ–°æ™‹æ­Œæ‰‹ï¼ˆå¦‚ç¯çƒå”±ç‰‡åŠ›æ¨è‰ºäººï¼‰æˆ–K-Popç»„åˆï¼ˆå¦‚BTSæˆå‘˜soloã€NewJeansæ–°æ›²ï¼‰çš„æ´—è„‘å‰¯æ­Œä¸»å¯¼ã€‚  
   - **ç‰¹ç‚¹**ï¼šèŠ‚å¥è½»å¿«ã€èˆè¹ˆå‹å¥½ã€å¤šè¯­è¨€æ··æ­ï¼ˆå¦‚è‹±è¯­+éŸ©è¯­å‰¯æ­Œï¼‰ã€‚  

### **2. ã€Šå¤å¤Remix/è€æ­Œæ–°ç¼–ã€‹**  
   - **ä¾‹å­**ï¼šç±»ä¼¼2023å¹´ã€ŠWhere She Goesã€‹ï¼ˆBad Bunnyæ··æ­90å¹´ä»£æ—‹å¾‹ï¼‰æˆ–ç»å…¸åè¯­è€æ­Œç¿»çº¢ï¼ˆå¦‚ã€Šä¹Œæ¢…å­é…±ã€‹ç°è±¡ï¼‰ã€‚  
   - **é¢„æµ‹æ–¹å‘**ï¼š2000å¹´ä»£æµè¡Œæ›²ï¼ˆå¦‚å¸ƒå…°å¦®ã€å‘¨æ°ä¼¦ï¼‰è¢«DJé‡æ–°æ··éŸ³ï¼Œæˆ–å½±è§†OSTï¼ˆå¦‚ã€Šç‹‚é£™ã€‹å¸¦åŠ¨ã€Šå¬å¦ˆå¦ˆçš„è¯ã€‹ï¼‰ã€‚  
   - **ä¼˜åŠ¿**ï¼šæ€€æ—§æƒ…æ€€+æ–°ç¼–èŠ‚å¥ï¼Œé€‚åˆæŒ‘æˆ˜ç±»è§†é¢‘ã€‚  

### **3. ã€Šä¸­å›½æœ¬åœŸåŸåˆ›ç¥æ›²ã€‹**  
   - **å¯èƒ½æ€§**ï¼šç±»ä¼¼ã€Šæ—©å®‰éš†å›ã€‹ã€Šé›ªDistanceã€‹çš„è‰æ ¹çˆ†æ¬¾ï¼Œæˆ–ç½‘ç»œæ­Œæ‰‹ï¼ˆå¦‚é˜Ÿé•¿ã€ç‹èµ«é‡ï¼‰çš„æ–°ä½œã€‚  
   - **å…³é”®è¯**ï¼šæœ—æœ—ä¸Šå£çš„æ­Œè¯ã€æƒ…æ„Ÿå…±é¸£ï¼ˆåŠ±å¿—/çˆ±æƒ…ï¼‰ã€æ–¹è¨€å…ƒç´ ï¼ˆå¦‚ç²¤è¯­ã€å·æ¸è¯´å”±ï¼‰ã€‚  

---

### ğŸ” **è¡¥å……è¯´æ˜**  
- **ç®—æ³•å½±å“**ï¼šæŠ–éŸ³çš„â€œç—…æ¯’å¼ä¼ æ’­â€ä¾èµ–ç”¨æˆ·äºŒåˆ›ï¼ˆå¦‚å˜è£…ã€æ‰‹åŠ¿èˆï¼‰ï¼Œéå•çº¯éŸ³ä¹è´¨é‡å†³å®šã€‚  
- **å›½é™…è¶‹åŠ¿**ï¼šæ‹‰ä¸éŸ³ä¹ï¼ˆReggaetonï¼‰ã€Afrobeatsæˆ–å°åº¦å®è±åé£æ ¼ä¹Ÿå¯èƒ½æ„å¤–èµ°çº¢ã€‚  

å»ºè®®å®šæœŸæŸ¥çœ‹æŠ–éŸ³å®˜æ–¹â€œçƒ­æ­Œæ¦œâ€æˆ–ç¬¬ä¸‰æ–¹æ•°æ®å¹³å°ï¼ˆå¦‚*è‰å¦ˆå¦ˆ*ã€*é£ç“œæ•°æ®*ï¼‰è·å–å®æ—¶æ’åã€‚å¦‚æœéœ€è¦å½“å‰ç¡®åˆ‡æ¦œå•ï¼Œå¯æä¾›å…·ä½“æ—¶é—´èŒƒå›´è¿›ä¸€æ­¥æŸ¥è¯¢ï¼
```
å¾ˆæ˜æ˜¾çš„å¯¹æ¯”ï¼Œè‹¥æ˜¯æ²¡æœ‰ç”¨ <> ä½œä¸ºæ¨¡æ¿å‚æ•°çš„å¼€å§‹å’Œç»“æŸç¬¦å·ï¼Œåˆ™ SpringAI è¯†åˆ«ä¸å‡ºæ¥å¯¹åº”çš„å‚æ•°ï¼Œå¯¼è‡´åœ¨æµ‹è¯•ç¤ºä¾‹ä¸­å±•ç¤ºäº†2023å¹´æ‰€æœ‰å¹³å°æœ€ç«çš„çš„å‰3éŸ³ä¹ã€‚